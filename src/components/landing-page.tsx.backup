"use client";

import { useRouter } from "next/navigation";
import { Navbar05 } from "./ui/shadcn-io/navbar-05";
import { HeroGeometric } from "./ui/shadcn-io/shape-landing-hero";
import { AuroraBackground } from "./ui/shadcn-io/aurora-background";
import { AnimatedTestimonials } from "./ui/shadcn-io/animated-testimonials";
import { Carousel, Card } from "./ui/shadcn-io/apple-cards-carousel";
import { CardContainer, CardBody, CardItem } from "./ui/shadcn-io/3d-card";
import { ShootingStars } from "./ui/shadcn-io/shooting-stars";
import { RetroGrid } from "./ui/shadcn-io/retro-grid";
import { Meteors } from "./ui/shadcn-io/meteors";
import { motion } from "framer-motion";
import {
  ArrowRight,
  Wand2,
  MonitorPlay,
  Layers,
  Music,
  Users,
  Workflow,
  Sparkles,
  Zap,
  CheckCircle2
} from "lucide-react";

export function LandingPage() {
  const router = useRouter();

  const handleGetStarted = () => {
    router.push("/edit");
  };

  const handleNavCTA = () => {
    router.push("/edit");
  };

  return (
    <div className="w-full min-h-screen bg-slate-50 dark:bg-slate-950 font-sans selection:bg-indigo-500/30">
      <Navbar05
        navigationLinks={[
          { href: "#features", label: "Features" },
          { href: "#showcase", label: "Example" },
          { href: "#reviews", label: "Reviews" },
        ]}
        ctaText="Start Creating"
        onCtaClick={handleNavCTA}
        className="!bg-white/50 dark:!bg-slate-950/50 !border-transparent backdrop-blur-md"
      />

      {/* Hero Section - Full Screen with Aurora, Shooting Stars & Meteors */}
      <section className="relative w-full h-screen overflow-hidden">
        <AuroraBackground>
          <div className="relative z-10 w-full h-full flex flex-col items-center justify-center">
            <HeroGeometric
              badge="v2.0 Now Available"
              title1="Edit Video"
              title2="Like Magic"
              description="The most intuitive online video editor. Drag, drop, and create stunning content in minutes. No installation required."
              ctaText="Start Editing Free"
              onCTA={handleGetStarted}
              className="bg-transparent"
            />
          </div>
        </AuroraBackground>
        <Meteors number={30} className="z-20" />
        <ShootingStars
          minSpeed={10}
          maxSpeed={30}
          minDelay={2000}
          maxDelay={5000}
          starColor="#a78bfa"
          trailColor="#60a5fa"
          starWidth={3}
          starHeight={1}
          className="absolute inset-0 z-30 pointer-events-none"
        />
      </section>

      {/* Features Section - Redesigned */}
      <section id="features" className="relative w-full py-32 px-4 overflow-hidden bg-slate-950">
        <div className="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"></div>

        <div className="container relative z-10 mx-auto max-w-7xl">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.6 }}
            viewport={{ once: true }}
            className="text-center mb-20"
          >
            <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-sm font-medium mb-8 backdrop-blur-sm">
              <Sparkles className="w-4 h-4" />
              <span>Everything you need</span>
            </div>
            <h2 className="text-5xl md:text-7xl font-bold text-white mb-6 tracking-tight">
              Professional toolkit,<br />
              <span className="bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
                beginner-friendly
              </span>
            </h2>
            <p className="text-xl text-slate-400 leading-relaxed max-w-2xl mx-auto">
              No steep learning curves. No complex workflows. Just powerful tools that work the way you think.
            </p>
          </motion.div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {[
              {
                icon: <Wand2 className="w-6 h-6" />,
                title: "AI-Powered Editing",
                description: "Auto-captions, background removal, and smart cut detection",
                gradient: "from-violet-500 to-purple-500"
              },
              {
                icon: <Layers className="w-6 h-6" />,
                title: "Multi-Track Timeline",
                description: "Unlimited layers for video, audio, effects, and text",
                gradient: "from-blue-500 to-cyan-500"
              },
              {
                icon: <MonitorPlay className="w-6 h-6" />,
                title: "4K Export",
                description: "Crystal clear renders up to 4K resolution",
                gradient: "from-pink-500 to-rose-500"
              },
              {
                icon: <Music className="w-6 h-6" />,
                title: "Audio Library",
                description: "Royalty-free music and sound effects built-in",
                gradient: "from-emerald-500 to-teal-500"
              },
              {
                icon: <Users className="w-6 h-6" />,
                title: "Real-Time Collab",
                description: "Work together with your team in the same project",
                gradient: "from-orange-500 to-amber-500"
              },
              {
                icon: <Workflow className="w-6 h-6" />,
                title: "Templates & Presets",
                description: "Start fast with professional templates",
                gradient: "from-fuchsia-500 to-violet-500"
              }
            ].map((feature, idx) => (
              <motion.div
                key={idx}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.5, delay: idx * 0.1 }}
                viewport={{ once: true }}
                className="group relative"
              >
                <div className="relative h-full p-8 rounded-2xl bg-slate-900/50 border border-slate-800 hover:border-slate-700 transition-all duration-300 backdrop-blur-sm hover:bg-slate-900/80">
                  <div className={`inline-flex p-3 rounded-xl bg-gradient-to-br ${feature.gradient} mb-6 group-hover:scale-110 transition-transform duration-300`}>
                    {feature.icon}
                  </div>
                  <h3 className="text-xl font-bold text-white mb-3">
                    {feature.title}
                  </h3>
                  <p className="text-slate-400 leading-relaxed">
                    {feature.description}
                  </p>
                  <div className={`absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r ${feature.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-b-2xl`}></div>
                </div>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* Bento Grid / Feature Highlight Section */}
      <section className="w-full py-32 px-4 bg-slate-50 dark:bg-slate-950">
        <div className="container mx-auto max-w-7xl">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div>
              <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400 text-sm font-medium mb-6">
                <Zap className="w-4 h-4" />
                <span>Lightning Fast</span>
              </div>
              <h2 className="text-3xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6">
                Built for speed and precision
              </h2>
              <p className="text-lg text-slate-600 dark:text-slate-400 mb-8 leading-relaxed">
                Our engine handles heavy lifting in the cloud, so you can edit smoothly on any device.
              </p>

              <div className="space-y-4">
                {[
                  "Hardware accelerated rendering",
                  "Real-time preview without buffering",
                  "Cloud asset management",
                  "Collaborative shared workspace"
                ].map((item, i) => (
                  <div key={i} className="flex items-center gap-3">
                    <div className="flex-shrink-0 w-6 h-6 rounded-full bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center">
                      <CheckCircle2 className="w-4 h-4 text-emerald-600 dark:text-emerald-400" />
                    </div>
                    <span className="text-slate-700 dark:text-slate-300 font-medium">{item}</span>
                  </div>
                ))}
              </div>
            </div>

            <div className="relative">
              <div className="absolute -inset-4 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-3xl opacity-20 blur-xl animate-pulse"></div>
              <div className="relative rounded-2xl overflow-hidden shadow-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900">
                <img
                  src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=2072&auto=format&fit=crop"
                  alt="Editor Interface"
                  className="w-full h-auto object-cover"
                />
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Templates Carousel */}
      <section id="showcase" className="w-full py-32 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800">
        <div className="container mx-auto px-4 mb-16 text-center">
          <h2 className="text-4xl font-bold text-slate-900 dark:text-white mb-4">
            Start with a Template
          </h2>
          <p className="text-xl text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">
            Professional designs ready for your content. Customize in seconds.
          </p>
        </div>
        <Carousel items={CAROUSEL_ITEMS.map((card, index) => (
          <Card key={card.src} card={card} index={index} />
        ))} />
      </section>

      {/* Testimonials */}
      <section id="reviews" className="w-full bg-slate-50 dark:bg-slate-950 py-32">
        <div className="container mx-auto px-4">
          <h2 className="text-4xl font-bold text-center mb-16 text-slate-900 dark:text-white">
            Loved by Creators
          </h2>
          <AnimatedTestimonials testimonials={TESTIMONIALS} autoplay />
        </div>
      </section>

      {/* Final CTA */}
      <section className="w-full py-32 px-4 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800">
        <div className="container mx-auto max-w-5xl">
          <div className="relative overflow-hidden rounded-[2.5rem] bg-indigo-600 px-6 py-24 shadow-2xl sm:px-16 text-center">

            <div className="relative z-10 max-w-3xl mx-auto">
              <h2 className="text-4xl md:text-6xl font-bold text-white mb-8 tracking-tight">
                Turn your footage into <span className="underline decoration-white/30 underline-offset-8">Masterpieces</span>
              </h2>
              <p className="text-xl text-indigo-100 mb-12 max-w-2xl mx-auto">
                Join thousands of creators who are already using our platform to tell their stories.
              </p>

              <div className="flex flex-col sm:flex-row items-center justify-center gap-4">
                <button
                  onClick={handleGetStarted}
                  className="w-full sm:w-auto px-8 py-4 rounded-xl bg-white text-indigo-600 font-bold text-lg hover:bg-indigo-50 transition-colors duration-200 shadow-lg"
                >
                  Start Editing Free
                </button>
                <div className="text-indigo-200 text-sm mt-4 sm:mt-0 sm:ml-6">
                  No credit card required • Cancel anytime
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="relative w-full py-12 px-4 bg-slate-950 text-slate-400 border-t border-slate-900">
        <div className="absolute inset-0 opacity-20">
          <RetroGrid
            angle={65}
            cellSize={40}
            opacity={1}
            lightLineColor="rgba(255,255,255,0.3)"
            darkLineColor="rgba(255,255,255,0.3)"
            className="w-full h-full"
          />
        </div>
        <div className="relative z-10 container mx-auto max-w-7xl flex flex-col md:flex-row justify-between items-center gap-6 text-sm">
          <div>
            © 2024 VideoEditor. All rights reserved.
          </div>
          <div className="flex gap-8">
            {["Privacy Policy", "Terms of Service", "Cookie Policy"].map((item) => (
              <a key={item} href="#" className="hover:text-white transition-colors">{item}</a>
            ))}
          </div>
        </div>
      </footer>
    </div>
  );
}

// Sub-components & Data

function Feature3DCard({ title, description, icon, bgColor, image }: { title: string; description: string; icon: React.ReactNode; bgColor: string; image: string }) {
  return (
    <CardContainer className="inter-var">
      <CardBody className="bg-slate-50 relative group/card dark:hover:shadow-2xl dark:hover:shadow-emerald-500/[0.1] dark:bg-black dark:border-white/[0.2] border-black/[0.1] w-auto h-auto rounded-xl p-6 border transition-all duration-300">
        <CardItem translateZ="50" className="w-full mt-2">
          <div className={`w-14 h-14 rounded-xl flex items-center justify-center ${bgColor} shadow-lg mb-4`}>
            {icon}
          </div>
        </CardItem>
        <CardItem translateZ="60" className="text-xl font-bold text-neutral-600 dark:text-white">
          {title}
        </CardItem>
        <CardItem as="p" translateZ="70" className="text-neutral-500 text-sm max-w-sm mt-3 dark:text-neutral-300 leading-relaxed">
          {description}
        </CardItem>
        <CardItem translateZ="80" className="w-full mt-6">
          <div className="relative w-full h-48 rounded-lg overflow-hidden shadow-md group-hover/card:shadow-xl transition-shadow">
            <img src={image} height="1000" width="1000" className="h-full w-full object-cover group-hover/card:scale-110 transition-transform duration-500" alt="feature thumbnail" />
          </div>
        </CardItem>
      </CardBody>
    </CardContainer>
  )
}

const DummyContent = ({ title }: { title: string }) => {
  return (
    <div className="bg-[#F5F5F7] dark:bg-neutral-800 p-8 md:p-14 rounded-3xl mb-4">
      <p className="text-neutral-600 dark:text-neutral-400 text-base md:text-2xl font-sans max-w-3xl mx-auto">
        <span className="font-bold text-neutral-700 dark:text-neutral-200">{title}</span>{" "}
        Use our professional templates to get started quickly.
      </p>
      <img
        src="https://images.unsplash.com/photo-1593720213428-28a5b9e94613?q=80&w=2070&auto=format&fit=crop"
        alt="Template preview"
        className="md:w-1/2 md:h-1/2 h-full w-full mx-auto object-contain mt-10 rounded-xl shadow-lg"
      />
    </div>
  );
};

const TESTIMONIALS = [
  {
    quote: "The attention to detail and innovative features have completely transformed my video editing workflow.",
    name: "Sarah Chen",
    designation: "Content Creator @ YouTube",
    src: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=3560&auto=format&fit=crop",
  },
  {
    quote: "Implementation was seamless and the results exceeded our expectations. The platform's flexibility is remarkable.",
    name: "Michael Rodriguez",
    designation: "CTO @ TechFlow",
    src: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=3540&auto=format&fit=crop",
  },
  {
    quote: "This solution has significantly improved our team's productivity. The intuitive interface makes complex tasks simple.",
    name: "Emily Watson",
    designation: "Operations Director @ CloudScale",
    src: "https://images.unsplash.com/photo-1623582854588-d60de57fa33f?q=80&w=3540&auto=format&fit=crop",
  },
];

const CAROUSEL_ITEMS = [
  {
    category: "Social Media",
    title: "Instagram Reels",
    src: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?q=80&w=1974&auto=format&fit=crop",
    content: <DummyContent title="Create Viral Reels" />,
  },
  {
    category: "Professional",
    title: "LinkedIn Promos",
    src: "https://images.unsplash.com/photo-1616469829581-73993eb86b02?q=80&w=1770&auto=format&fit=crop",
    content: <DummyContent title="Professional Branding" />,
  },
  {
    category: "YouTube",
    title: "Channel Intros",
    src: "https://images.unsplash.com/photo-1626379953822-baec19c3accd?q=80&w=2070&auto=format&fit=crop",
    content: <DummyContent title="Dynamic Intros" />,
  },
  {
    category: "Marketing",
    title: "Product Ads",
    src: "https://images.unsplash.com/photo-1542038784424-fa001014303f?q=80&w=2028&auto=format&fit=crop",
    content: <DummyContent title="High Conversion Ads" />,
  },
  {
    category: "Education",
    title: "Tutorials",
    src: "https://images.unsplash.com/photo-1503676260728-1c00da094a0b?q=80&w=2022&auto=format&fit=crop",
    content: <DummyContent title="Educational Content" />,
  },
];
